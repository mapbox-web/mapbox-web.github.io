import{_ as i,c as a,ag as e,o as n}from"./chunks/framework.BRsuZZrq.js";const c=JSON.parse('{"title":"Map Draw (@mapbox-web/draw)","description":"","frontmatter":{},"headers":[],"relativePath":"en-US/draw/index.md","filePath":"en-US/draw/index.md"}'),t={name:"en-US/draw/index.md"};function l(r,s,p,h,d,o){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="map-draw-mapbox-web-draw" tabindex="-1">Map Draw (@mapbox-web/draw) <a class="header-anchor" href="#map-draw-mapbox-web-draw" aria-label="Permalink to &quot;Map Draw (@mapbox-web/draw)&quot;">​</a></h1><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p>The <code>@mapbox-web/draw</code> library extends <code>mapbox-gl-draw</code> and supports the drawing of the following graphics:</p><ol><li>Text</li></ol><ul><li>&#39;draw_text&#39;: &#39;Text&#39;</li></ul><ol start="2"><li>Lines</li></ol><ul><li>&#39;draw_line_string&#39;: &#39;Line&#39;</li><li>&#39;draw_curve&#39;: &#39;Curve&#39;</li><li>&#39;draw_arc&#39;: &#39;Arc&#39;</li></ul><ol start="3"><li>Areas</li></ol><ul><li>&#39;draw_polygon&#39;: &#39;Polygon&#39;</li><li>&#39;draw_circle&#39;: &#39;Circle&#39;</li><li>&#39;draw_ellipse&#39;: &#39;Ellipse&#39;</li><li>&#39;draw_rectangle&#39;: &#39;Rectangle&#39;</li><li>&#39;draw_sector&#39;: &#39;Sector&#39;</li><li>&#39;draw_lune&#39;: &#39;Lune&#39;</li><li>&#39;draw_closed_curve&#39;: &#39;Closed Curve&#39;</li></ul><ol start="4"><li>Arrows</li></ol><ul><li>&#39;draw_fine_arrow&#39;: &#39;Thin Straight Arrow&#39;</li><li>&#39;draw_assault_direction&#39;: &#39;Assault Direction&#39;</li><li>&#39;draw_double_arrow&#39;: &#39;Pincer Attack&#39;</li><li>&#39;draw_attack_arrow&#39;: &#39;Attack Arrow&#39;</li><li>&#39;draw_tailed_attack_arrow&#39;: &#39;Tailed Attack Arrow&#39;</li><li>&#39;draw_squad_combat&#39;: &#39;Squad Combat&#39;</li></ul><ol start="5"><li>Images</li></ol><ul><li>&#39;draw_image&#39;: &#39;PNG Image&#39;</li></ul><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @mapbox-web/draw</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @mapbox-web/draw</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @mapbox-web/draw</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="api-methods" tabindex="-1">API Methods <a class="header-anchor" href="#api-methods" aria-label="Permalink to &quot;API Methods&quot;">​</a></h2><h3 id="initialization-userproperties-true-is-a-required-property" tabindex="-1">Initialization (userProperties: true is a required property) <a class="header-anchor" href="#initialization-userproperties-true-is-a-required-property" aria-label="Permalink to &quot;Initialization (userProperties: true is a required property)&quot;">​</a></h3><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MapboxDraw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@mapbox-web/draw&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $draw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MapboxDraw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(map, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userProperties: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // Required</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="switching-modes" tabindex="-1">Switching Modes <a class="header-anchor" href="#switching-modes" aria-label="Permalink to &quot;Switching Modes&quot;">​</a></h3><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$draw.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">changeMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(\${modeName})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// The API for drawing icons is special and requires passing the corresponding icon parameters. The IDs of each icon must be unique, and only PNG format is supported for icons.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$draw.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">changeMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;draw_image&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,{imageId: \${imageId}, imageUrl: \${imageUrl}})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="getting-id-and-setting-properties" tabindex="-1">Getting ID and Setting Properties <a class="header-anchor" href="#getting-id-and-setting-properties" aria-label="Permalink to &quot;Getting ID and Setting Properties&quot;">​</a></h3><p>Operations on the drawing results are performed through ID.</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$draw.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setFeatureProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(\${id},\${key},\${value})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="getting-the-dictionary" tabindex="-1">Getting the Dictionary <a class="header-anchor" href="#getting-the-dictionary" aria-label="Permalink to &quot;Getting the Dictionary&quot;">​</a></h3><p>You can query which properties can be set for each graphic through the dictionary of features returned in the event. How to get the dictionary:</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">features[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].properties[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;properties-dictionary&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Example of a polygon&#39;s dictionary:</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;fill-color&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;填充色&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;color&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;line-color&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;边框色&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;color&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;opacity&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;透明度&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;number&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, step: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, min: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, max: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { key: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;description&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;说明&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;textArea&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h2><p>Consistent with mapbox-gl-draw: <code>draw.create</code>， <code>draw.selectionchange</code>，<code>draw.update</code>，<code>draw.delete</code></p><h2 id="style-import" tabindex="-1">Style Import <a class="header-anchor" href="#style-import" aria-label="Permalink to &quot;Style Import&quot;">​</a></h2><p>Using this library requires importing:</p><div class="language-ts vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@mapbox-web/supermap/mapbox-gl-enhance.css&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@mapbox-web/draw/mapbox-web-draw.css&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,33)]))}const g=i(t,[["render",l]]);export{c as __pageData,g as default};
